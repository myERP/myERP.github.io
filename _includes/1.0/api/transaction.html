<div id="transaction" class="group">

    <h2>Accounting Transactions</h2>
    {% highlight bash %} Endpoint: {{ site.api.base_url }}{{ site.api.v1}}{{ site.resource.transactions.url}} {% endhighlight %}
	<p>Accounting Transactions that have been generated by the system are only editable to some extends.
		<br />Only few fields, like <i>external_id</i> or <i>lettering</i> remain editable. Also, you cannot add or remove entries, edit amounts or change the date or <i>piece_number</i>. In order to do that, you have to edit the document that have generated the transaction.
		<br />
		<br />Still, you can lock any entries to ensure that it won't be modified at all, but be carefull: once locked, <b>an entry cannot be unlocked</b>.
	</p>
    <h3 id="transactionjsonformat">JSON Format</h3>
    <p>Accounting Transactions are represented as JSON objects which have the following keys:</p>

    <table class="table table-bordered table-striped">
        <thead>
            {% include table-header.html %}
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>{{ site.format.type.integer }}</td>
                <td>no</td>
                <td>yes</td>
                <td>Automatically assigned when creating Transactions.</td>
            </tr>
            <tr>
                <td>external_id</td>
                <td>{{ site.format.type.string }}</td>
                <td>no</td>
                <td>no</td>
                <td>Use primilary for Sync.<br /></td>
            </tr>
            <tr>
                <td>transaction_code</td>
                <td>{{ site.format.type.integer }}</td>
                <td>no</td>
                <td>no</td>
                <td>Automatically generated</td>
            </tr>
            <tr>
                <td>status</td>
                <td>{{ site.format.type.string }}</td>
                <td>no</td>
                <td>yes</td>
                <td>The status of the transaction, among "Realized", "Forecast" and "Closed".
				    <br />
				    <br />It's a read only field, transaction created through the API are Realized only.</td>
            </tr>
            <tr>
                <td>date</td>
                <td>{{ site.format.type.date }}</td>
                <td>no</td>
                <td>no</td>
                <td>Today by default.
                    <br />Format: {{ site.format.date }}
				    <br />
				    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>journal_id <span class="deprecated">DEPRECATED<span></td>
                <td>{{ site.format.type.integer }}</td>
                <td>no</td>
                <td>no</td>
                <td>Deprecated. See journal.</td>
            </tr>
            <tr>
                <td>journal</td>
                <td>{{ site.format.type.journal }}</td>
                <td>no</td>
                <td>no</td>
                <td>The recording journal
                    <br />5: Miscellaneous Operations is selected by default
                    <br />
                    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>piece_number</td>
                <td>{{ site.format.type.string }}</td>
                <td>yes</td>
                <td>no</td>
                <td>A unique user-facing id of the document linked to this transaction. 64 characters max.
			    <br />
			    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>entries</td>
                <td>{{ site.format.type.entry }}</td>
                <td>yes</td>
                <td>no</td>
                <td>The list of the transaction's entries. <b>The entries must be balanced</b>
				    <br />
				    <br />You cannot add or remove entries on transactions that have been generated by the system.</td>
                </td>
            </tr>
        </tbody>
    </table>




    <h4 id="entry">Transaction Entry Format</h4>
    <table class="table table-bordered table-striped">
        <thead>
            {% include table-header.html %}
        </thead>
        <tbody>
            <tr>
                <td>id</td>
                <td>{{ site.format.type.integer }}</td>
                <td>no</td>
                <td>yes</td>
                <td>Automatically assigned when creating Entries.</td>
            </tr>
            <tr>
                <td>label</td>
                <td>{{ site.format.type.string }}</td>
                <td>no</td>
                <td>no</td>
                <td>The description of the Entry. 128 characters max.</td>
            </tr>
            <tr>
                <td>amount</td>
                <td>{{ site.format.type.double }}</td>
                <td>yes</td>
                <td>no</td>
                <td>The amount of the Entry. Positive, will be rounded to two decimal places
				    <br />
				    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>way</td>
                <td>{{ site.format.type.string }}</td>
                <td>yes</td>
                <td>no</td>
                <td>Defines if the amount is a Debit or a Credit
                    <br />"debit" or "credit"
				    <br />
				    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>account_id</td>
                <td>{{ site.format.type.integer }}</td>
                <td>yes</td>
                <td>no</td>
                <td>The id of the accounting account where isFamily = false only
				    <br />
				    <br />Not editable on transactions that have been generated by the system.</td>
            </tr>
            <tr>
                <td>account_label</td>
                <td>{{ site.format.type.string }}</td>
                <td>no</td>
                <td>yes</td>
                <td>number and label of the accounting account</td>
            </tr>
            <tr>
                <td>lettering</td>
                <td>{{ site.format.type.string }}</td>
                <td>no</td>
                <td>no</td>
                <td>The lettering of this entry. 64 characters max.</td>
            </tr>
            <tr>
                <td>locked</td>
                <td>{{ site.format.type.boolean }}</td>
                <td>no</td>
                <td>no</td>
                <td>locked entries are not editable at all.
				    <br />Once turned to 'true', it cannot be set back to 'false'.</td>
            </tr>

        </tbody>
    </table>


    <h3 id="transactionjsonexample">JSON Example</h3>
    {% highlight bash %} {% include 1.0/api/json/transaction.json %} {% endhighlight %}

    <h3 id="transactionavailablemethods">Available Methods</h3>
    {% include 1.0/api/methods/full.html %}
</div>
